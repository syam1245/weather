{"ast":null,"code":"import _regeneratorRuntime from\"/home/syampushpan/Downloads/WeatherForecast-main/Client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _objectSpread from\"/home/syampushpan/Downloads/WeatherForecast-main/Client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/home/syampushpan/Downloads/WeatherForecast-main/Client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/syampushpan/Downloads/WeatherForecast-main/Client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import\"./App.css\";import{WEATHER_API_KEY,WEATHER_API_URL}from\"./api\";import CurrentWeather from\"./components/current-weather/current-weather.js\";import Search from\"./components/search/Search\";import Forecast from\"./components/forecast/forecast\";import Header from\"./components/Navbar/Header\";import{Route,Routes}from\"react-router-dom\";import Login from\"./components/Login\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function App(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),currentWeather=_useState2[0],setCurrentWeatherFetch=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),forecast=_useState4[0],setForecast=_useState4[1];var handleOnSearchChange=function handleOnSearchChange(searchData){var _searchData$value$spl=searchData.value.split(\" \"),_searchData$value$spl2=_slicedToArray(_searchData$value$spl,2),lat=_searchData$value$spl2[0],lon=_searchData$value$spl2[1];var currentWeatherFetch=fetch(\"\".concat(WEATHER_API_URL,\"/weather?lat=\").concat(lat,\"&lon=\").concat(lon,\"&appid=\").concat(WEATHER_API_KEY,\"&units=metric\"));var forecastFetch=fetch(\"\".concat(WEATHER_API_URL,\"/forecast?lat=\").concat(lat,\"&lon=\").concat(lon,\"&appid=\").concat(WEATHER_API_KEY,\"&units=metric\"));Promise.all([currentWeatherFetch,forecastFetch]).then(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(response){var weatherResponse,forecastResponse;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return response[0].json();case 2:weatherResponse=_context.sent;_context.next=5;return response[1].json();case 5:forecastResponse=_context.sent;setCurrentWeatherFetch(_objectSpread({city:searchData.label},weatherResponse));setForecast(_objectSpread({city:searchData.label},forecastResponse));case 8:case\"end\":return _context.stop();}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}()).catch(function(err){return console.log(err);});};console.log(currentWeather);console.log(forecast);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(Search,{onSearchChange:handleOnSearchChange}),currentWeather&&/*#__PURE__*/_jsx(CurrentWeather,{data:currentWeather}),forecast&&/*#__PURE__*/_jsx(Forecast,{data:forecast}),/*#__PURE__*/_jsx(Routes,{children:/*#__PURE__*/_jsx(Route,{path:\"/login\",component:Login})})]})]});}export default App;","map":{"version":3,"names":["useState","WEATHER_API_KEY","WEATHER_API_URL","CurrentWeather","Search","Forecast","Header","Route","Routes","Login","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","_useState","_useState2","_slicedToArray","currentWeather","setCurrentWeatherFetch","_useState3","_useState4","forecast","setForecast","handleOnSearchChange","searchData","_searchData$value$spl","value","split","_searchData$value$spl2","lat","lon","currentWeatherFetch","fetch","concat","forecastFetch","Promise","all","then","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","weatherResponse","forecastResponse","wrap","_callee$","_context","prev","next","json","sent","_objectSpread","city","label","stop","_x","apply","arguments","catch","err","console","log","children","className","onSearchChange","data","path","component"],"sources":["/home/syampushpan/Downloads/WeatherForecast-main/Client/src/App.js"],"sourcesContent":["import { useState } from \"react\";\nimport \"./App.css\";\nimport { WEATHER_API_KEY, WEATHER_API_URL } from \"./api\";\nimport CurrentWeather from \"./components/current-weather/current-weather.js\";\nimport Search from \"./components/search/Search\";\nimport Forecast from \"./components/forecast/forecast\";\nimport Header from \"./components/Navbar/Header\";\nimport { Route, Routes } from \"react-router-dom\";\nimport Login from \"./components/Login\";\n\nfunction App() {\n  const [currentWeather, setCurrentWeatherFetch] = useState(null);\n  const [forecast, setForecast] = useState(null);\n\n  const handleOnSearchChange = (searchData) => {\n    const [lat, lon] = searchData.value.split(\" \");\n\n    const currentWeatherFetch = fetch(\n      `${WEATHER_API_URL}/weather?lat=${lat}&lon=${lon}&appid=${WEATHER_API_KEY}&units=metric`\n    );\n\n    const forecastFetch = fetch(\n      `${WEATHER_API_URL}/forecast?lat=${lat}&lon=${lon}&appid=${WEATHER_API_KEY}&units=metric`\n    );\n\n    Promise.all([currentWeatherFetch, forecastFetch])\n      .then(async (response) => {\n        const weatherResponse = await response[0].json();\n        const forecastResponse = await response[1].json();\n\n        setCurrentWeatherFetch({ city: searchData.label, ...weatherResponse });\n        setForecast({ city: searchData.label, ...forecastResponse });\n      })\n      .catch((err) => console.log(err));\n  };\n\n  console.log(currentWeather);\n  console.log(forecast);\n\n  return (\n    <>\n      <Header />\n      <div className=\"container\">\n        <Search onSearchChange={handleOnSearchChange} />\n        {currentWeather && <CurrentWeather data={currentWeather} />}\n        {forecast && <Forecast data={forecast} />}\n        <Routes>\n          <Route path=\"/login\" component={Login} />\n        </Routes>\n      </div>\n    </>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}